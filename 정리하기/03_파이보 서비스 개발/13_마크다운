/ 마크다운 /

질문이나 답변을 작성할 때 일반적인 텍스트 외에 글자를 진하게 표시하거나 링크를 추가하고 싶을 수도 있다. '마크다운'이라는 글쓰기 도구를 이용하면 이런 것들을 쉽고 간단하게 표현할 수 있다.

1. 마크다운 문법
2. 마크다운 설치
3. 마크다운 적용
4. 마크다운 확인


/ -- 1. 마크다운 문법 /


/ 1.1 리스트 /

목록을 표시하기 위해 다음처럼 작성한다.

Ex)
* 파이썬
* 장고
* 알고리즘

이렇게 작성했을 때 결과는 html 에서 <ul> 태그와 같은 효과를 나태낸다.

Ex)
1. 하나
1. 둘
1. 셋


Result)
1. 하나
2. 둘
3. 셋


/ 1.2 강조 /

작성한 글자를 강조 표시하려면 강조할 텍스트 양쪽에 **를 넣어 감싼다.

Ex)
장고는 **파이썬**으로 만들어진 웹 프레임워크이다.

Result)
장고는 "파이썬"으로 만들어진 웹 프레임워크이다.


파이썬의 글꼴크기가 굵어진다.


/ 1.3 링크 /

HTML 링크는 다음처럼 [링크명](링크주소) 규칙을 적용하여 생성한다.

Ex)
파이썬 홈페이지는 [http://www.python.org](http://www.python.org) 입니다.

Result)
파이썬 홈페이지는 "http://www.python.org" 입니다.

"http://www.python.org" 주소에 하이퍼링크가 걸린다.


/ 1.4 소스코드 /

소스코드는 백쿼드 `3개를 연이어 붙여 위아래로 감싸면 생성할 수 있다.

Ex)
```
def add(a, b):
     return a+b
```

Result)
def add(a, b):
     return a+b


/ 1.5 인용 /

인용을 표시하려면 다음처럼 >를 문장 맨 앞에 입력하고 1칸 띄어쓰기를 한 다음 인용구를 입력한다.

Ex)
> 마크다운은 Github에서 사용하는 글쓰기 도구이다.

Result)
마크다운은 Github에서 사용하는 글쓰기 도구이다.



/ -- 2. 마크다운 설치 /

파이보에 마크다운 기능을 추가하려면 마크다운 모듈을 설치해야 한다. 다음처럼 pip install markdown으로 마크다운을 설치하자.

Ex)
(mysite) c:\projects\mysite>pip install markdown
Collecting markdown
  Using cached Markdown-3.2.1-py2.py3-none-any.whl (88 kB)
Requirement already satisfied: setuptools>=36 in c:\venvs\mysite\lib\site-packages (from markdown) (41.2.0)
Installing collected packages: markdown
Successfully installed markdown-3.2.1.


/ 2.1 마크다운 필터 등록 /

마크다운으로 작성한 문서를 HTML 문서로 변환하려면 템플릿에서 사용할 마크다운 필터를 작성해야 한다. 이전에 sub 필터를 작성했던 pybo_filter.py 파일에 다음과 같이 mark 필터를 추가하자.

"pybo/templatags/pybo_filter.py"

Ex)
import markdown
from django import template
from django.utils.safestring import mark_safe

register = template.Library()


@register.filter
def sub(value, arg):
    return value - arg


@register.filter
def mark(value):
    extensions = ["nl2br", "fenced_code"]
    return mark_safe(markdown.markdown(value, extensions=extensions))

mark 함수는 markdown 모듈과 mark_safe 함수를 이용하여 입력 문자열을 HTML로 변환하는 필터 함수이다. 마크다운에는 몇 가지 확장 기능이 있는데 파이보는 위처럼 nl2br과 fenced_code를 사용하도록 설정했다. nl2br은 줄바꿈 문자를 <br> 로 바꾸어 준다. fenced_code는 위에서 살펴본 마크다운의 소스코드 표현을 위해 필요하다.


/ -- 3. 마크다운 적용 /

이제 질문 상세 템플릿에 {% load pybo_filter %} 태그를 추가하고 마크다운 필터를 적용해 보자

"templates/pybo/question_detail.html"

Ex)
{% extends 'base.html' %}
{% load pybo_filter %}
{% block content %}
<div class="container my-3">
...
<div class="card-text">{{ question.content|mark }}</div>
...


/ -- 4. 마크다운 확인 /

이제 질문 또는 답변을 마크다운 문법으로 작성하면 브라우저에서 어떻게 보이는지 확인해 보자.


Ex)
**마크다운 문법으로 작성해 봅니다.**

* 리스트1
* 리스트2
* 리스트3

파이썬 홈페이지는 [http://www.python.org](http://www.python.org) 입니다.

적용한 값을 확인해보자.

